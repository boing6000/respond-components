<dom-module id="respond-gallery">
	<style>

  	.respond-edit, .respond-container {
    	display: none;
  	}

  	.respond-edit[visible], .respond-container[visible] {
    	display: block;
    	visibility: visible;
  	}

		/* edit display */
    .respond-edit {
      position: relative;
      padding: 10px 0;
      margin: 0;
      min-height: 70px;
      background-color: #f8f8f8;
      border: 1px solid #f0f0f0;
      text-align: center;
    }

    .respond-edit .icon {
      display: inline-block;
      text-align: center;
      color: #ddd;
    }

    .respond-edit svg {
      fill: currentColor;
      width: 35px;
      height: 35px;
    }

    .respond-edit .title {
      font-family: 'Open Sans', sans-serif;
      font-weight: normal;
      font-size: 14px;
      display: block;
      margin: 0 0 10px 0;
      color: #555;
    }

    .respond-edit .description {
      font-family: 'Open Sans', sans-serif;
      font-weight: normal;
      font-size: 12px;
      display: block;
      margin: 5px 0 10px 0;
      padding: 0;
      color: #888;
    }

		.respond-container {
			margin-bottom: 25px;
		}

		.respond-container a {
			display: inline-block;
			width: 200px;
			height: 200px;
			margin: 0 10px 10px 0;
		}

		.respond-container a img {
			width: 200px;
			height: 200px;
		}

	</style>

	<template>

	  <div class="respond-edit" visible$="{{edit}}">

      <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"/>
      </svg></span>

      <span class="title">Gallery Component</span>

    </div>
    <!-- /edit view -->

		<div id$="{{id}}" class="respond-container" visible$="{{!edit}}">

			<div id="galleryList" role="listbox"></div>
			<!-- /.carousel-inner -->

		</div>
		<!-- /.gallery -->


	</template>
</dom-module>

<script>
  Polymer({
	  	is: "respond-gallery",

	  	// element attributes
	  	properties: {
	  		id: { type: String }
		},

		ready: function() {

  		// edit mode
      this.edit = false;

      if(document.body.hasAttribute('edit')) {
        this.edit = true;
      }

			// get images
			var images = Polymer.dom(this).querySelectorAll('img');

			for(x=0; x<images.length; x++){

				// set active
				var active = '';

				if(x==0){
					active = ' active';
				}

				// get caption
				var caption = images[x].getAttribute('data-caption') || '';

				// get thumb
				var thumb = images[x].getAttribute('data-thumb') || '';

				// create a gallery image
				var a = document.createElement('a');

				a.setAttribute('title', caption);
				a.setAttribute('class', 'gallery-item');
				a.setAttribute('respond-lightbox', '');
				a.setAttribute('href', images[x].src);

				var img = document.createElement('img');
				img.setAttribute('src', thumb);

				a.appendChild(img);

				// append gallery image to list
				Polymer.dom(this.$.galleryList).appendChild(a);

			}

		},

		i18n: function(text){
		  	return respond.site.i18n(text);
		}

	});
</script>